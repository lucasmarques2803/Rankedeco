{% extends 'base.html' %}
{% block title %}
  Página Inicial
{% endblock %}
{% block nav %}
  {% for bandeco in bandeco_list %}
    <li>
      <a href="{% url 'detail' bandeco.id %}" data-text="{{ bandeco.name }}">{{ bandeco.name }}</a>
    </li>
  {% endfor %}
{% endblock %}
{% block content %}
  <main>
    <h1>Página Inicial</h1>
    {% if bandeco_list %}
      <ul class="bandecos-card">
        {% for current_bandeco in bandeco_data %}
          <li class="card">
            <a href="{% url 'detail' current_bandeco.bandeco.id %}" class="bandeco-image"><img src="{{ current_bandeco.bandeco.img_url }}" alt="Imagem de {{ current_bandeco.bandeco.name }}" /></a>

            <div class="bandeco-info">
              <h2>{{ current_bandeco.bandeco.name }}</h2>
              <p>{{ current_bandeco.bandeco.endereco }}</p>
              <p>Telefone: {{ current_bandeco.bandeco.contato }}</p>

              {% if current_bandeco.average_nota >= 0.5 %}
                <span class="fa fa-star checked"></span>
              {% else %}
                <span class="fa fa-star"></span>
              {% endif %}
              {% if current_bandeco.average_nota >= 1.5 %}
                <span class="fa fa-star checked"></span>
              {% else %}
                <span class="fa fa-star"></span>
              {% endif %}
              {% if current_bandeco.average_nota >= 2.5 %}
                <span class="fa fa-star checked"></span>
              {% else %}
                <span class="fa fa-star"></span>
              {% endif %}
              {% if current_bandeco.average_nota >= 3.5 %}
                <span class="fa fa-star checked"></span>
              {% else %}
                <span class="fa fa-star"></span>
              {% endif %}
              {% if current_bandeco.average_nota >= 4.5 %}
                <span class="fa fa-star checked"></span>
              {% else %}
                <span class="fa fa-star"></span>
              {% endif %}
              {% if current_bandeco.average_nota %}
                <span class="average_nota">{{ current_bandeco.average_nota|floatformat:1 }}/5,0</span>
              {% else %}
                <span class="average_nota">0,0/5,0</span>
              {% endif %}
            </div>

            <div class="menu-info">
              <h3>Cardápio:</h3>
              <ul>
                {% for item in current_bandeco.menu %}
                  <li>{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>Não foi encontrado nenhum bandeco.</p>
    {% endif %}
  </main>
{% endblock %}
